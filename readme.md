```java
/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package layer;

import layer.annotations.Module;
import layer.entity.LayerContainer;
import layer.extend.Layer;
import layer.extend.LayerController;
import layer.extend.LayerProvider;
import layer.instance.InstanceFactory;
import layer.layer.Logger;
import layer.module.LayerModule;
import layer.module.ModuleFactory;
import org.junit.Test;
import layer.annotations.*;


public class LibraryTest {
	@LayerClass
	class console extends Layer {
		public void log(String... name) {
			System.out.println(String.join(" ", name));
		}
	}
	
	@LayerClass
	class fs extends Layer {
		@Require
		Logger logger;
		@Config()
		String version = "0.0.1";
		
		public void printName() {
			logger.warn("fs版本 v" + version + " 已经过时,强制运行会导致爆炸");
		}
	}
	
	@LayerClass
	class fs_mysql extends fs {
		@Override
		public void setup() {
			version = "0.0.2";
		}
	}
	
	@LayerClass
	class a extends Layer {
		@Require
		Logger logger;
		@Require
		b b;
		
		public void name() {
			logger.info("A is a");
		}
		
		@Override
		public void run() {
			b.name();
		}
	}
	
	@LayerClass
	class b extends Layer {
		@Require
		Logger logger;
		@Require
		a a;
		
		public void name() {
			logger.info("B is b");
		}
		
		@Override
		public void run() {
			a.name();
		}
	}
	
	@LayerClass
	class run extends Layer {
		@Require()
		fs fs;
		@Require
		Logger logger;
		@Override
		public void run() {
			logger.suc();
			logger.suc("mount <-> success");
			fs.printName();
			fs.logger.info("run finish %s", "code 0");
		}
	}
	
	@Provider
	class p0 extends LayerProvider {
		public String name = "p0";
		@Require()
		@Import(name = "ch")
		p1 p1;
		public void loop() {
			p1.logger.warn("使用了循环依赖的模块和循环依赖的对象");
		}
	}
	
	@Provider
	class p1 extends LayerProvider {
		public String name = "p1";
		@Require
		Logger logger;
		@Require(name = "p0")
		@Import(name = "main")
		p0 loopObj;
		
		@Override
		public void run() {
			loopObj.loop();
		}
	}
	
	@Controller
	class c0 extends LayerController {
		@Require()
		p0 p0;
		public void test() {
			p0.p1.logger.info("..child.child.logger init ..");
		}
		
		@Override
		public void run() {
			test();
		}
	}
	
	@Module(name = "ch")
	class module_ch extends LayerModule {
		@Override
		public void handelInstance(InstanceFactory f) {
			f.instance("logger", new Logger());
		}
		
		public module_ch() {
			provider(new p1());
			//循环模块
			imports("main");
		}
	}
	
	@Module(name = "main")
	class module_main extends LayerModule {
		public module_main() {
			controller(new c0());
			provider(new p0());
			imports(new module_ch());
		}
	}
	
	
	@Test
	public void someLibraryMethodReturnsTrue() {
		new InstanceFactory()
			.deployInfo()
			.include(
				new console(),
				new fs(),
				new fs_mysql(),
				new run(),
				new a(),
				new b()
			)
			.instance("a", t -> {
			
			})
			.instance("b", t -> {
			
			})
			.instance("logger", t -> t
				.implement(new Logger())
				.config("name", "I")
			)
			.instance("fs-logger", t -> t
				.implement(new Logger())
				.config("name", "fs")
			)
			.instance("run-logger", t -> t
				.implement(new Logger())
				.config("name", "run")
			)
			.instance("console")
			.instance("fs_mysql", t -> t.require("logger", "fs-logger"))
			.instance("fs", t -> t
				.config("name", "hhh")
				.require("console")
				.require("logger", "fs-logger")
			)
			.instance("run", t -> t
				.require("fs", "fs_mysql")
				.require("logger", "run-logger")
			)
			.deploy();
		new ModuleFactory()
			.deployInfo()
			.include(new module_main())
			.deploy();
	}
}


```

output
```shell

> Task :lib:compileJava UP-TO-DATE
> Task :lib:processResources NO-SOURCE
> Task :lib:classes UP-TO-DATE
> Task :lib:compileTestJava UP-TO-DATE
> Task :lib:processTestResources NO-SOURCE
> Task :lib:testClasses UP-TO-DATE
> Task :lib:test
Picked up _JAVA_OPTIONS: -Djava.net.preferIPv4Stack=true

[2023/12/13 16:02:37][Container][Require] [a] require b (implement b <- abstract b)
[2023/12/13 16:02:37][Container][Require] [a] require logger (implement logger <- abstract Logger)
[2023/12/13 16:02:37][Container][INFO] [a] implement a
[2023/12/13 16:02:37][Container][INFO] [console] implement console
[2023/12/13 16:02:37][Container][Require] [b] require a (implement a <- abstract a)
[2023/12/13 16:02:37][Container][Require] [b] require logger (implement logger <- abstract Logger)
[2023/12/13 16:02:37][Container][INFO] [b] implement b
[2023/12/13 16:02:37][Container][INFO] [Logger] implement Logger
[2023/12/13 16:02:37][Container][Require] [fs_mysql] require logger (implement logger <- abstract Logger)
[2023/12/13 16:02:37][Container][INFO] [fs_mysql] implement fs_mysql
[2023/12/13 16:02:37][Container][Require] [run] require logger (implement logger <- abstract Logger)
[2023/12/13 16:02:37][Container][Require] [run] require fs (implement fs <- abstract fs)
[2023/12/13 16:02:37][Container][INFO] [run] implement run
[2023/12/13 16:02:37][Container][INFO] [Logger] implement Logger
[2023/12/13 16:02:37][Container][Require] [fs] require logger (implement logger <- abstract Logger)
[2023/12/13 16:02:37][Container][INFO] [fs] implement fs
[2023/12/13 16:02:37][Container][INFO] [Logger] implement Logger
[2023/12/13 16:02:37][I][INFO] B is b
[2023/12/13 16:02:37][I][INFO] A is a
[2023/12/13 16:02:37][I][SUCCESS] 
[2023/12/13 16:02:37][I][SUCCESS] mount <-> success
[2023/12/13 16:02:37][I][WARN] fs版本 v0.0.2 已经过时,强制运行会导致爆炸
[2023/12/13 16:02:37][I][INFO] run finish code 0
[2023/12/13 16:02:37][Instance][DEPLOY] use Σ = 21ms
[2023/12/13 16:02:37][Container][Require] [p1] require loopObj (implement main.p0 <- abstract p0)
[2023/12/13 16:02:37][Container][Require] [p1] require logger (implement logger <- abstract Logger)
[2023/12/13 16:02:37][Container][INFO] [p1] implement p1
[2023/12/13 16:02:37][Container][INFO] [Logger] implement Logger
[2023/12/13 16:02:37][Container][Require] [p0] require p1 (implement ch.p1 <- abstract p1)
[2023/12/13 16:02:37][Container][INFO] [p0] implement p0
[2023/12/13 16:02:37][Container][Require] [c0] require p0 (implement p0 <- abstract p0)
[2023/12/13 16:02:37][Container][INFO] [c0] implement c0
[2023/12/13 16:02:37][I][WARN] 使用了循环依赖的模块和循环依赖的对象
[2023/12/13 16:02:37][I][INFO] ..child.child.logger init ..
BUILD SUCCESSFUL in 1s
3 actionable tasks: 1 executed, 2 up-to-date
16:02:37: 执行完成 ':lib:test --tests "layer.LibraryTest"'。

```